# Payment-Service

Платежный сервис - сервис для проведения платежей в различных валютах, состоит из 6 ключевых таблиц
- Users - пользователи, любой зарегистрированный пользователь в базе данных
- Payment - платеж инициируется пользователем и имеет статусы (Создан, Принят, Отклонен)
- TopUp - пополнение баланса пользователя инициируется самим пользователем, хоть и имеет статус, но функционал ограничен созданием
- Currency - валюта, в которой инициируется платеж
- Role - роль пользователя в системе
- Status - статус платежа

Для запуска приложения необходимо выполнить следующие шаги:
1. Установить необходимые зависимости: dotnet, PostgreSQL, .NET SDK и dotnet-ef
2. Запустить базу данных PostgreSQL (если она не имеется)
3. Удостовериться что в проекте Infrastructure и PaymentsServiceApi имеется библиотека: Microsoft.EntityFrameworkCore.Design
4. Открыть консоль в папке проекта Infrastructure и выполнить команду 
dotnet ef migrations add MigrationName \
   --project Infrastructure \
   --startup-project PaymentsServiceApi
5. Запустить миграцию командой 
dotnet ef database update \
   --project Infrastructure \
   --startup-project PaymentsServiceApi
6. Применить в базе данных SQL-скрипт для создания необходимой вьюшки, скрипт находится в 
Infrastructure/Infrastructure/Views/v_alltransactions.sql
7. Запустить приложение с помощью команды `dotnet run`
8. Запустить приложение Payment-Service-Front находящийся по ссылке https://github.com/KaliyevBekzhan/Payment-Service-Front
9. Открыть Scalar UI по адресу http://localhost:5132/scalar для взаимодействия с API

Базовый функционал для клиента:
- Личный кабинет
- Создать платеж/Создать пополнение
- Посмотреть историю платежей/пополнений
- Посмотреть простую статистику действий

Базовый функционал для админа:
- Принять/Отклонить платеж
- Управление валютой
- Управление ролями

TODO: Проект является учебным и не рекомендован к использованию в производственной среде
Некоторый функционал был либо недоработан, либо не достаточно протестирован
